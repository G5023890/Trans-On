# Trans-On

Trans-On - macOS-приложение для быстрого получения и перевода выделенного текста.

## Что делает приложение

- По глобальному хоткею копирует выделенный текст из активного приложения.
- Если в тексте нет кириллицы, пытается перевести текст на русский.
- Показывает результат в плавающем полупрозрачном окне.
- Закрывает окно по `Esc`.

## Горячая клавиша

- По умолчанию: `Shift + Command + P`.
- Комбинация настраивается в меню-баре: `⌘Я -> Настройки…`.
- В настройках можно менять:
  - клавишу (`A-Z`);
  - модификаторы (`Command`, `Shift`, `Option`, `Control`);
  - размер шрифта;
  - автозапуск при входе в систему.

## Запуск в режиме разработки

```bash
swift run
```

## Сборка и установка приложения

```bash
./scripts/build_and_install_app.sh
```

Скрипт собирает и устанавливает `/Applications/Trans-On.app`.

## Права в macOS

Для корректной работы эмуляции `Cmd+C` и чтения выделения из других программ:

- `System Settings -> Privacy & Security -> Accessibility` - добавить терминал/приложение.
- При необходимости `Input Monitoring` - тоже добавить терминал/приложение.

Если хоткей или захват выделения не работают, сначала проверьте эти разрешения.

## Ограничения

Сейчас перевод выполняется через endpoint `translate.googleapis.com/translate_a/single` (`client=gtx`), это неофициальный API для production.
